wheelnav=function(a,b,c,d){this.holderId="wheel",void 0!==a&&null!==a&&(this.holderId=a);var e=document.getElementById(a);if(!(null!==e&&void 0!==e||void 0!==b&&null!==b))return this;var f;if(void 0===b||null===b){for(var h=[],i=0;i<e.children.length;i++)"svg"===e.children[i].localName&&h.push(e.children[i]);for(var i=0;i<h.length;i++)e.removeChild(h[i]);void 0!==c&&null!==c?(void 0!==d&&null!==d||(d=c),this.raphael=new Raphael(a,c,d),f=c):(this.raphael=new Raphael(a),f=e.clientWidth),this.raphael.setViewBox(0,0,this.raphael.width,this.raphael.height,!0)}else this.raphael=b,f=this.raphael.width,!1;return this.centerX=f/2,this.centerY=f/2,this.wheelRadius=f/2,this.navAngle=0,this.sliceAngle=null,this.titleRotateAngle=null,this.initTitleRotate=!1,this.clickModeRotate=!0,this.rotateRound=!1,this.rotateRoundCount=0,this.clickModeSpreadOff=!1,this.animatetimeCalculated=!1,this.animateRepeatCount=0,this.clockwise=!0,this.multiSelect=!1,this.hoverPercent=1,this.selectedPercent=1,this.clickablePercentMin=0,this.clickablePercentMax=1,this.currentPercent=null,this.cssMode=!1,this.selectedToFront=!0,this.selectedNavItemIndex=0,this.navItemCount=0,this.navItemCountLabeled=!1,this.navItemCountLabelOffset=0,this.navItems=[],this.navItemsEnabled=!0,this.animateFinishFunction=null,this.navItemsContinuous=!1,this.navItemsCentered=!0,this.colors=colorpalette.defaultpalette,this.titleSpreadScale=null,this.spreaderEnable=!1,this.spreaderRadius=20,this.spreaderStartAngle=0,this.spreaderSliceAngle=360,this.spreaderPathFunction=spreaderPath().PieSpreader,this.spreaderPathCustom=null,this.spreaderInPercent=1,this.spreaderOutPercent=1,this.spreaderInTitle="+",this.spreaderOutTitle="-",this.spreaderTitleFont=null,this.spreaderPathInAttr=null,this.spreaderPathOutAttr=null,this.spreaderTitleInAttr=null,this.spreaderTitleOutAttr=null,this.spreaderInTitleWidth=null,this.spreaderInTitleHeight=null,this.spreaderOutTitleWidth=null,this.spreaderOutTitleHeight=null,this.minPercent=.01,this.maxPercent=1,this.initPercent=1,this.markerEnable=!1,this.markerPathFunction=markerPath().TriangleMarker,this.markerPathCustom=null,this.currentClick=0,this.animateLocked=!1,this.slicePathAttr=null,this.sliceHoverAttr=null,this.sliceSelectedAttr=null,this.titleFont="100 24px Impact, Charcoal, sans-serif",this.titleAttr=null,this.titleHoverAttr=null,this.titleSelectedAttr=null,this.titleWidth=null,this.titleHeight=null,this.titleHoverWidth=null,this.titleHoverHeight=null,this.titleSelectedWidth=null,this.titleSelectedHeight=null,this.linePathAttr=null,this.lineHoverAttr=null,this.lineSelectedAttr=null,this.slicePathCustom=null,this.sliceClickablePathCustom=null,this.sliceSelectedPathCustom=null,this.sliceHoverPathCustom=null,this.sliceInitPathCustom=null,this.sliceTransformCustom=null,this.sliceSelectedTransformCustom=null,this.sliceHoverTransformCustom=null,this.sliceInitTransformCustom=null,this.animateeffect=null,this.animatetime=null,void 0!==slicePath().PieSlice?this.slicePathFunction=slicePath().PieSlice:this.slicePathFunction=slicePath().NullSlice,this.sliceClickablePathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedPathFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverPathFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitPathFunction=null,this.sliceInitTransformFunction=null,this.keynavigateEnabled=!1,this.keynavigateOnlyFocus=!1,this.keynavigateDownCode=37,this.keynavigateDownCodeAlt=40,this.keynavigateUpCode=39,this.keynavigateUpCodeAlt=38,this.parseWheel(e),this},wheelnav.prototype.initWheel=function(a){this.styleWheel();var b;for(0===this.navItemCount?(void 0!==a&&null!==a&&Array.isArray(a)||(a=["title-0","title-1","title-2","title-3"]),this.navItemCount=a.length):a=null,i=0;i<this.navItemCount;i++){var c="";c=this.navItemCountLabeled?(i+this.navItemCountLabelOffset).toString():null!==a?a[i]:"",b=new wheelnavItem(this,c,i),this.navItems.push(b)}var d=0;for(i=0;i<this.navItems.length;i++)this.navItems[i].fillAttr=this.colors[d],++d===this.colors.length&&(d=0)},wheelnav.prototype.createWheel=function(a,b){for(null===this.currentPercent&&(this.currentPercent=b?this.minPercent:this.maxPercent),0===this.navItems.length&&this.initWheel(a),null!==this.selectedNavItemIndex&&(this.navItems[this.selectedNavItemIndex].selected=!0),i=0;i<this.navItemCount;i++)this.navItems[i].createNavItem();if(this.keynavigateEnabled){var c=this,d=window;this.keynavigateOnlyFocus&&(d=document.getElementById(this.holderId),d.hasAttribute("tabindex")||d.setAttribute("tabindex",0)),d.addEventListener("keydown",this.keyNavigateFunction=function(a){a=a||window.e;var b=a.which||a.keyCode;[c.keynavigateDownCode,c.keynavigateDownCodeAlt,c.keynavigateUpCode,c.keynavigateUpCodeAlt].indexOf(a.keyCode)>-1&&a.preventDefault();var d=null;b!==c.keynavigateUpCode&&b!==c.keynavigateUpCodeAlt||(d=c.currentClick===c.navItemCount-1?0:c.currentClick+1),b!==c.keynavigateDownCode&&b!==c.keynavigateDownCodeAlt||(d=0===c.currentClick?c.navItemCount-1:c.currentClick-1),null!==d&&(null!==c.navItems[d].navigateFunction&&c.navItems[d].navigateFunction(),c.navigateWheel(d))})}return this.spreader=new spreader(this),this.marker=new marker(this),this.refreshWheel(),void 0!==b&&this.spreadWheel(),this},wheelnav.prototype.removeWheel=function(){if(this.raphael.remove(),this.keynavigateEnabled){var a=window;this.keynavigateOnlyFocus&&(a=document.getElementById(this.holderId),a.hasAttribute("tabindex")&&a.removeAttribute("tabindex")),a.removeEventListener("keydown",this.keyNavigateFunction)}},wheelnav.prototype.refreshWheel=function(a){for(i=0;i<this.navItemCount;i++){var b=this.navItems[i];b.setWheelSettings(a),b.refreshNavItem(a)}this.marker.setCurrentTransform(),this.spreader.setCurrentTransform()},wheelnav.prototype.navigateWheel=function(a){this.animateUnlock(!0),this.clickModeRotate&&(this.animateLocked=!0);var b;for(i=0;i<this.navItemCount;i++)if(b=this.navItems[i],b.hovered=!1,i===a?this.multiSelect?b.selected=!b.selected:(b.selected=!0,this.selectedNavItemIndex=i):this.multiSelect||(b.selected=!1),this.clickModeRotate){var c=this.navItems[a].navAngle-this.navItems[this.currentClick].navAngle;this.rotateRound&&(this.clockwise&&c<0&&(c=360+c),!this.clockwise&&c>0&&(c-=360)),b.currentRotateAngle-=c;var d;d=null!=this.animatetime?this.animatetime:1500,this.animatetimeCalculated&&a!==this.currentClick&&(b.animatetime=d*(Math.abs(c)/360)),this.rotateRoundCount>0&&(this.clockwise?b.currentRotateAngle-=360*this.rotateRoundCount:b.currentRotateAngle+=360*this.rotateRoundCount,b.animatetime=d*(this.rotateRoundCount+1))}for(i=0;i<this.navItemCount;i++)b=this.navItems[i],b.setCurrentTransform(!0,!0),b.refreshNavItem();this.currentClick=a,this.clickModeSpreadOff?(this.currentPercent=this.maxPercent,this.spreadWheel()):(null===a||this.clickModeRotate?this.marker.setCurrentTransform():this.marker.setCurrentTransform(this.navItems[this.currentClick].navAngle),this.spreader.setCurrentTransform(!0))},wheelnav.prototype.spreadWheel=function(){for(this.animateUnlock(!0),this.animateLocked=!0,this.currentPercent===this.maxPercent||null===this.currentPercent?this.currentPercent=this.minPercent:this.currentPercent=this.maxPercent,i=0;i<this.navItemCount;i++){var a=this.navItems[i];a.hovered=!1,a.setCurrentTransform(!0,!1)}return this.marker.setCurrentTransform(),this.spreader.setCurrentTransform(),this},wheelnav.prototype.animateUnlock=function(a,b){if(void 0!==a&&!0===a)for(var c=0;c<this.navItemCount;c++)this.navItems[c].navSliceUnderAnimation=!1,this.navItems[c].navTitleUnderAnimation=!1,this.navItems[c].navLineUnderAnimation=!1,this.navItems[c].navSlice.stop(),this.navItems[c].navLine.stop(),this.navItems[c].navTitle.stop();else{for(var d=0;d<this.navItemCount;d++)if(!0===this.navItems[d].navSliceUnderAnimation||!0===this.navItems[d].navTitleUnderAnimation||!0===this.navItems[d].navLineUnderAnimation)return;this.animateLocked=!1,null!==this.animateFinishFunction&&void 0!==b&&!0===b&&this.animateFinishFunction()}},wheelnav.prototype.setTooltips=function(a){if(void 0!==a&&null!==a&&Array.isArray(a)&&a.length<=this.navItems.length)for(var b=0;b<a.length;b++)this.navItems[b].setTooltip(a[b])},wheelnav.prototype.getItemId=function(a){return"wheelnav-"+this.holderId+"-item-"+a},wheelnav.prototype.getSliceId=function(a){return"wheelnav-"+this.holderId+"-slice-"+a},wheelnav.prototype.getClickableSliceId=function(a){return"wheelnav-"+this.holderId+"-clickableslice-"+a},wheelnav.prototype.getTitleId=function(a){return"wheelnav-"+this.holderId+"-title-"+a},wheelnav.prototype.getLineId=function(a){return"wheelnav-"+this.holderId+"-line-"+a},wheelnav.prototype.getSpreaderId=function(){return"wheelnav-"+this.holderId+"-spreader"},wheelnav.prototype.getSpreaderTitleId=function(){return"wheelnav-"+this.holderId+"-spreadertitle"},wheelnav.prototype.getMarkerId=function(){return"wheelnav-"+this.holderId+"-marker"},wheelnav.prototype.parseWheel=function(a){if(void 0!==a&&null!==a){if(a.hasAttribute("data-wheelnav")){var c=[],d=[],e=[],f=!1,g=a.getAttribute("data-wheelnav-slicepath");null!==g&&void 0!==slicePath()[g]&&(this.slicePathFunction=slicePath()[g]);var h=a.getAttribute("data-wheelnav-colors");null!==h&&(this.colors=h.split(","));var i=a.getAttribute("data-wheelnav-wheelradius");null!==i&&(this.wheelRadius=Number(i));var j=a.getAttribute("data-wheelnav-navangle");null!==j&&(this.navAngle=Number(j));null!==a.getAttribute("data-wheelnav-rotateoff")&&(this.clickModeRotate=!1);null!==a.getAttribute("data-wheelnav-cssmode")&&(this.cssMode=!0);null!==a.getAttribute("data-wheelnav-spreader")&&(this.spreaderEnable=!0);var n=a.getAttribute("data-wheelnav-spreaderradius");null!==n&&(this.spreaderRadius=Number(n));var o=a.getAttribute("data-wheelnav-spreaderpath");null!==o&&void 0!==markerPath()[o]&&(this.spreaderPathFunction=spreaderPath()[o]);null!==a.getAttribute("data-wheelnav-marker")&&(this.markerEnable=!0);var q=a.getAttribute("data-wheelnav-markerpath");null!==q&&void 0!==markerPath()[q]&&(this.markerPathFunction=markerPath()[q]);var r=a.getAttribute("data-wheelnav-titlewidth");null!==r&&(this.titleWidth=Number(r));var s=a.getAttribute("data-wheelnav-titleheight");null!==s&&(this.titleHeight=Number(s));null!==a.getAttribute("data-wheelnav-keynav")&&(this.keynavigateEnabled=!0);null!==a.getAttribute("data-wheelnav-keynavonlyfocus")&&(this.keynavigateOnlyFocus=!0);var v=a.getAttribute("data-wheelnav-keynavdowncode");null!==v&&(this.keynavigateDownCode=Number(v));var w=a.getAttribute("data-wheelnav-keynavdowncodealt");null!==w&&(this.keynavigateDownCodeAlt=Number(w));var x=a.getAttribute("data-wheelnav-keynavupcode");null!==x&&(this.keynavigateUpCode=Number(x));var y=a.getAttribute("data-wheelnav-keynavupcodealt");null!==y&&(this.keynavigateUpCodeAlt=Number(y));null!==a.getAttribute("data-wheelnav-init")&&(f=!0);for(var A=0;A<a.children.length;A++){var B=a.children[A].getAttribute("data-wheelnav-navitemtext"),C=a.children[A].getAttribute("data-wheelnav-navitemicon"),D=a.children[A].getAttribute("data-wheelnav-navitemimg");if(null!==B||null!==C||null!==D){if(null!==B)c.push(B);else if(null!==C)void 0!==icon[C]?c.push(icon[C]):c.push(C);else{if(null===D)continue;c.push("imgsrc:"+D)}void 0!==a.children[A].onmouseup?e.push(a.children[A].onmouseup):e.push(null);for(var E=!1,F=0;F<a.children[A].children.length;F++)void 0!==a.children[A].children[F].getAttribute("href")&&d.push(a.children[A].children[F].getAttribute("href"));E||d.push(null)}}if(c.length>0){this.initWheel(c);for(var A=0;A<e.length;A++)this.navItems[A].navigateFunction=e[A],this.navItems[A].navigateHref=d[A];f||this.createWheel()}}for(var G=[],A=0;A<a.children.length;A++)"svg"!==a.children[A].localName&&G.push(a.children[A]);for(var A=0;A<G.length;A++)a.removeChild(G[A])}},wheelnavItem=function(a,b,c){return this.wheelnav=a,this.wheelItemIndex=c,a.clockwise?this.itemIndex=c:this.itemIndex=-c,this.enabled=a.navItemsEnabled,this.selected=!1,this.hovered=!1,this.navItem=null,this.navSlice=null,this.navTitle=null,this.navLine=null,this.navClickableSlice=null,this.navSliceCurrentTransformString=null,this.navTitleCurrentTransformString=null,this.navLineCurrentTransformString=null,this.navSliceUnderAnimation=!1,this.navTitleUnderAnimation=!1,this.navLineUnderAnimation=!1,this.currentRotateAngle=0,this.setTitle(b),this.tooltip=null,this.fillAttr="#CCC",this.titleFont=this.wheelnav.titleFont,this.navigateHref=null,this.navigateFunction=null,this.titleWidth=null,this.titleHeight=null,this.titleHoverWidth=null,this.titleHoverHeight=null,this.titleSelectedWidth=null,this.titleSelectedHeight=null,this.animateeffect=null,this.animatetime=null,this.sliceInitPathFunction=null,this.sliceClickablePathFunction=null,this.slicePathFunction=null,this.sliceSelectedPathFunction=null,this.sliceHoverPathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitTransformFunction=null,this.slicePathCustom=null,this.sliceClickablePathCustom=null,this.sliceSelectedPathCustom=null,this.sliceHoverPathCustom=null,this.sliceInitPathCustom=null,this.sliceTransformCustom=null,this.sliceSelectedTransformCustom=null,this.sliceHoverTransformCustom=null,this.sliceInitTransformCustom=null,this.initPercent=null,this.minPercent=null,this.maxPercent=null,this.hoverPercent=null,this.selectedPercent=null,this.clickablePercentMin=null,this.clickablePercentMax=null,this.titleSpreadScale=null,this.sliceAngle=null,this.styleNavItem(),this},wheelnavItem.prototype.createNavItem=function(){this.setWheelSettings(!1),null!==this.navigateHref&&(this.navigateFunction=function(){window.location.href=this.navigateHref}),this.wheelnav.cssMode||(this.slicePathAttr.fill=this.fillAttr,this.sliceHoverAttr.fill=this.fillAttr,this.sliceSelectedAttr.fill=this.fillAttr),this.enabled||(this.wheelnav.cssMode||(this.slicePathAttr.cursor="default",this.sliceHoverAttr.cursor="default",this.titleAttr.cursor="default",this.titleHoverAttr.cursor="default",this.linePathAttr.cursor="default",this.lineHoverAttr.cursor="default"),this.sliceClickablePathAttr.cursor="default",this.sliceClickableHoverAttr.cursor="default");var a=this.wheelItemIndex-1,b=360/this.wheelnav.navItemCount;null===this.sliceAngle&&(this.sliceAngle=360/this.wheelnav.navItemCount),this.wheelnav.clockwise?this.wheelnav.navItemsContinuous?0===this.itemIndex?this.baseAngle=this.itemIndex*this.sliceAngle+(-this.sliceAngle/2+this.wheelnav.navAngle):this.baseAngle=this.wheelnav.navItems[a].baseAngle+this.wheelnav.navItems[a].sliceAngle:this.wheelnav.navItemsCentered?this.baseAngle=this.itemIndex*b+(-this.sliceAngle/2+this.wheelnav.navAngle):(this.baseAngle=this.itemIndex*b+(-b/2+this.wheelnav.navAngle),this.currentRotateAngle+=b/2-this.wheelnav.navItems[0].sliceAngle/2):this.wheelnav.navItemsContinuous?0===this.itemIndex?this.baseAngle=this.itemIndex*this.sliceAngle+(-this.sliceAngle/2+this.wheelnav.navAngle):this.baseAngle=this.wheelnav.navItems[a].baseAngle-this.wheelnav.navItems[this.wheelItemIndex].sliceAngle:this.wheelnav.navItemsCentered?this.baseAngle=this.itemIndex*b+(-this.sliceAngle/2+this.wheelnav.navAngle):(this.baseAngle=this.itemIndex*b+(-b/2+this.wheelnav.navAngle)+(b-this.sliceAngle),this.currentRotateAngle-=b/2-this.wheelnav.navItems[0].sliceAngle/2),this.navAngle=this.baseAngle+this.sliceAngle/2,this.wheelnav.animatetimeCalculated&&(this.animatetime=this.wheelnav.animatetime/this.wheelnav.navItemCount),this.initPathsAndTransforms();var c=this.sliceInitPath;this.navSlice=this.wheelnav.raphael.path(c.slicePathString),this.navSlice.attr(this.slicePathAttr),this.navSlice.id=this.wheelnav.getSliceId(this.wheelItemIndex),this.navSlice.node.id=this.navSlice.id,this.navLine=this.wheelnav.raphael.path(c.linePathString),this.navLine.attr(this.linePathAttr),this.navLine.id=this.wheelnav.getLineId(this.wheelItemIndex),this.navLine.node.id=this.navLine.id;var d=this.initNavTitle;if(wheelnavTitle().isPathTitle(this.title)?this.navTitle=this.wheelnav.raphael.path(d.path):wheelnavTitle().isImageTitle(this.title)?this.navTitle=this.wheelnav.raphael.image(d.src,c.titlePosX-this.titleWidth/2,c.titlePosY-this.titleHeight/2,this.titleWidth,this.titleHeight):this.navTitle=this.wheelnav.raphael.text(c.titlePosX,c.titlePosY,d.title),this.navTitle.attr(this.titleAttr),this.navTitle.id=this.wheelnav.getTitleId(this.wheelItemIndex),this.navTitle.node.id=this.navTitle.id,this.navSliceCurrentTransformString="",""!==this.initTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.initTransform.sliceTransformString),this.navLineCurrentTransformString="",""!==this.initTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.initTransform.lineTransformString),this.navTitleCurrentTransformString="",this.navTitleCurrentTransformString+=this.getTitleRotateString(this.wheelnav.initTitleRotate),""!==this.initTransform.titleTransformString&&(this.navTitleCurrentTransformString+=this.initTransform.titleTransformString),this.wheelnav.currentPercent<.05&&(this.navTitleCurrentTransformString+=",s0.05"),void 0!==this.navTitleSizeTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeTransform),this.navSlice.attr({transform:this.navSliceCurrentTransformString}),this.navLine.attr({transform:this.navLineCurrentTransformString}),this.navTitle.attr({transform:this.navTitleCurrentTransformString}),this.navItem=this.wheelnav.raphael.set(),null!==this.sliceClickablePathFunction){var e=this.getCurrentClickablePath();this.navClickableSlice=this.wheelnav.raphael.path(e.slicePathString).attr(this.sliceClickablePathAttr).toBack(),this.navClickableSlice.id=this.wheelnav.getClickableSliceId(this.wheelItemIndex),this.navClickableSlice.node.id=this.navClickableSlice.id,this.navItem.push(this.navSlice,this.navLine,this.navTitle,this.navClickableSlice)}else this.navItem.push(this.navSlice,this.navLine,this.navTitle);this.setTooltip(this.tooltip),this.navItem.id=this.wheelnav.getItemId(this.wheelItemIndex);var f=this.wheelnav,g=this,h=this.wheelItemIndex;this.enabled&&(this.navItem.mouseup(function(){null!==g.navigateFunction&&g.navigateFunction(),f.navigateWheel(h)}),this.navItem.mouseover(function(){!0!==g.hovered&&g.hoverEffect(h,!0)}),this.navItem.mouseout(function(){g.hovered=!1,g.hoverEffect(h,!1)})),this.setCurrentTransform(!0,!1)},wheelnavItem.prototype.hoverEffect=function(a,b){!1===this.wheelnav.animateLocked&&(b&&(this.selected||(this.hovered=!0)),this.refreshNavItem(),1===this.hoverPercent&&null===this.sliceHoverPathFunction&&null===this.sliceHoverTransformFunction&&this.titleHover===this.title&&this.titleHoverWidth===this.titleWidth&&this.titleHoverHeight===this.titleHeight||this.setCurrentTransform(!1,!1),this.wheelnav.marker.setCurrentTransform(),this.wheelnav.spreader.setCurrentTransform(!0))},wheelnavItem.prototype.setCurrentTransform=function(a,b){if(!this.wheelnav.clickModeRotate||!this.navSliceUnderAnimation&&!this.navTitleUnderAnimation&&!this.navLineUnderAnimation){void 0!==a&&!0===a&&(this.navSliceUnderAnimation=!0,this.navTitleUnderAnimation=!0,this.navLineUnderAnimation=!0),this.navSliceCurrentTransformString="",this.wheelnav.clickModeRotate&&(this.navSliceCurrentTransformString+=this.getItemRotateString()),this.selected?void 0!==this.selectTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.selectTransform.sliceTransformString):this.hovered&&void 0!==this.hoverTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.hoverTransform.sliceTransformString),void 0!==this.sliceTransform.sliceTransformString&&(this.navSliceCurrentTransformString+=this.sliceTransform.sliceTransformString),this.navLineCurrentTransformString="",this.wheelnav.clickModeRotate&&(this.navLineCurrentTransformString+=this.getItemRotateString()),this.selected?void 0!==this.selectTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.selectTransform.lineTransformString):this.hovered&&void 0!==this.hoverTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.hoverTransform.lineTransformString),void 0!==this.sliceTransform.lineTransformString&&(this.navLineCurrentTransformString+=this.sliceTransform.lineTransformString),this.navTitleCurrentTransformString="",this.navTitleCurrentTransformString+=this.getTitleRotateString(!0),this.selected?(void 0!==this.navTitleSizeSelectedTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeSelectedTransform),""===this.selectTransform.titleTransformString||void 0===this.selectTransform.titleTransformString?this.navTitleCurrentTransformString+=",s1":this.navTitleCurrentTransformString+=","+this.selectTransform.titleTransformString,this.wheelnav.currentPercent<.05&&(this.navTitleCurrentTransformString+=",s0.05")):this.hovered?(void 0!==this.navTitleSizeHoverTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeHoverTransform),""===this.hoverTransform.titleTransformString||void 0===this.hoverTransform.titleTransformString?this.navTitleCurrentTransformString+=",s1":this.navTitleCurrentTransformString+=","+this.hoverTransform.titleTransformString):this.wheelnav.currentPercent<.05?this.navTitleCurrentTransformString+=",s0.05":this.titleSpreadScale?this.navTitleCurrentTransformString+=",s"+this.wheelnav.currentPercent:(void 0!==this.navTitleSizeTransform&&(this.navTitleCurrentTransformString+=this.navTitleSizeTransform),""===this.sliceTransform.titleTransformString||void 0===this.sliceTransform.titleTransformString?this.navTitleCurrentTransformString+=",s1":this.navTitleCurrentTransformString+=","+this.sliceTransform.titleTransformString);var c=this.getCurrentPath(),d={};d={path:c.slicePathString,transform:this.navSliceCurrentTransformString};var e={};if(null!==this.sliceClickablePathFunction){e={path:this.getCurrentClickablePath().slicePathString,transform:this.navSliceCurrentTransformString}}var g={};g={path:c.linePathString,transform:this.navLineCurrentTransformString};var h=this.getCurrentTitle(),j={};wheelnavTitle().isPathTitle(h.title)?j={path:h.path,transform:this.navTitleCurrentTransformString}:wheelnavTitle().isImageTitle(h.title)?(j={x:h.x,y:h.y,width:h.width,height:h.height,transform:this.navTitleCurrentTransformString},this.navTitle.attr({src:h.src})):(j={x:h.x,y:h.y,transform:this.navTitleCurrentTransformString},null!==h.title&&this.navTitle.attr({text:h.title}));var k=this,l=this.wheelnav;this.animSlice=Raphael.animation(d,this.animatetime,this.animateeffect,function(){k.navSliceUnderAnimation=!1,l.animateUnlock(!1,b)}),this.animLine=Raphael.animation(g,this.animatetime,this.animateeffect,function(){k.navLineUnderAnimation=!1,l.animateUnlock(!1,b)}),this.animTitle=Raphael.animation(j,this.animatetime,this.animateeffect,function(){k.navTitleUnderAnimation=!1,l.animateUnlock(!1,b)}),null!==this.navClickableSlice&&(this.animClickableSlice=Raphael.animation(e,this.animatetime,this.animateeffect));var m=this.wheelnav.animateRepeatCount;if(void 0!==a&&!0===a){if(this.wheelItemIndex===this.wheelnav.navItemCount-1){for(i=0;i<this.wheelnav.navItemCount;i++){var n=this.wheelnav.navItems[i];n.navSlice.animate(n.animSlice.repeat(m))}for(i=0;i<this.wheelnav.navItemCount;i++){var o=this.wheelnav.navItems[i];o.navLine.animate(o.animLine.repeat(m))}for(i=0;i<this.wheelnav.navItemCount;i++){var p=this.wheelnav.navItems[i];p.navTitle.animate(p.animTitle.repeat(m))}if(null!==this.wheelnav.sliceClickablePathFunction)for(i=0;i<this.wheelnav.navItemCount;i++){var q=this.wheelnav.navItems[i];null!==q.navClickableSlice&&q.navClickableSlice.animate(q.animClickableSlice.repeat(m))}}}else this.navSlice.animate(this.animSlice.repeat(m)),this.navLine.animate(this.animLine.repeat(m)),this.navTitle.animate(this.animTitle.repeat(m)),null!==this.navClickableSlice&&this.navClickableSlice.animate(this.animClickableSlice.repeat(m))}},wheelnavItem.prototype.setTitle=function(a){this.title=void 0===a?null:a,this.titleHover=this.title,this.titleSelected=this.title},wheelnavItem.prototype.setTooltip=function(a){null!==a&&this.navItem.attr({title:a})},wheelnavItem.prototype.refreshNavItem=function(a){this.selected?(this.navSlice.attr(this.sliceSelectedAttr),this.navLine.attr(this.lineSelectedAttr),this.navTitle.attr(this.titleSelectedAttr),null!==this.navClickableSlice&&this.navClickableSlice.attr(this.sliceClickableSelectedAttr),this.wheelnav.selectedToFront?(this.navSlice.toFront(),this.navLine.toFront(),this.navTitle.toFront(),null!==this.navClickableSlice&&this.navClickableSlice.toFront()):(null!==this.navClickableSlice&&this.navClickableSlice.toBack(),this.navTitle.toBack(),this.navLine.toBack(),this.navSlice.toBack())):this.hovered?(this.navSlice.attr(this.sliceHoverAttr).toFront(),this.navLine.attr(this.lineHoverAttr).toFront(),this.navTitle.attr(this.titleHoverAttr).toFront(),null!==this.navClickableSlice&&this.navClickableSlice.attr(this.sliceClickableHoverAttr).toFront()):(this.navSlice.attr(this.slicePathAttr),this.navLine.attr(this.linePathAttr),this.navTitle.attr(this.titleAttr),null!==this.navClickableSlice&&this.navClickableSlice.attr(this.sliceClickablePathAttr),null!==this.navClickableSlice&&this.navClickableSlice.toBack(),this.navTitle.toBack(),this.navLine.toBack(),this.navSlice.toBack()),void 0!==a&&!0===a&&(this.initPathsAndTransforms(),this.setCurrentTransform(!1,!1))},wheelnavItem.prototype.setWheelSettings=function(a){null!==this.wheelnav.slicePathAttr&&(this.slicePathAttr=JSON.parse(JSON.stringify(this.wheelnav.slicePathAttr))),null!==this.wheelnav.sliceHoverAttr&&(this.sliceHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.sliceHoverAttr))),null!==this.wheelnav.sliceSelectedAttr&&(this.sliceSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.sliceSelectedAttr))),null!==this.wheelnav.titleAttr&&(this.titleAttr=JSON.parse(JSON.stringify(this.wheelnav.titleAttr))),null!==this.wheelnav.titleHoverAttr&&(this.titleHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.titleHoverAttr))),null!==this.wheelnav.titleSelectedAttr&&(this.titleSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.titleSelectedAttr))),null!==this.wheelnav.titleWidth&&null===this.titleWidth&&(this.titleWidth=this.wheelnav.titleWidth),null!==this.wheelnav.titleHeight&&null===this.titleHeight&&(this.titleHeight=this.wheelnav.titleHeight),null!==this.titleWidth&&null===this.titleHeight&&(this.titleHeight=this.titleWidth),null===this.titleWidth&&null!==this.titleHeight&&(this.titleWidth=this.titleHeight),wheelnavTitle().isImageTitle(this.title)&&(null===this.titleWidth&&(this.titleWidth=32),null===this.titleHeight&&(this.titleHeight=32)),null!==this.wheelnav.titleHoverWidth&&null===this.titleHoverWidth&&(this.titleHoverWidth=this.wheelnav.titleHoverWidth),null!==this.wheelnav.titleHoverHeight&&null===this.titleHoverHeight&&(this.titleHoverHeight=this.wheelnav.titleHoverHeight),null!==this.titleHoverWidth&&null===this.titleHoverHeight&&(this.titleHoverHeight=this.titleHoverWidth),null===this.titleHoverWidth&&null!==this.titleHoverHeight&&(this.titleHoverWidth=this.titleHoverHeight),null!==this.wheelnav.titleSelectedWidth&&null===this.titleSelectedWidth&&(this.titleSelectedWidth=this.wheelnav.titleSelectedWidth),null!==this.wheelnav.titleSelectedHeight&&null===this.titleSelectedHeight&&(this.titleSelectedHeight=this.wheelnav.titleSelectedHeight),null!==this.titleSelectedWidth&&null===this.titleSelectedHeight&&(this.titleSelectedHeight=this.titleSelectedWidth),null===this.titleSelectedWidth&&null!==this.titleSelectedHeight&&(this.titleSelectedWidth=this.titleSelectedHeight),null===this.titleHoverHeight&&(this.titleHoverHeight=this.titleHeight),null===this.titleHoverWidth&&(this.titleHoverWidth=this.titleWidth),null===this.titleSelectedHeight&&(this.titleSelectedHeight=this.titleHeight),null===this.titleSelectedWidth&&(this.titleSelectedWidth=this.titleWidth),null!==this.wheelnav.linePathAttr&&(this.linePathAttr=JSON.parse(JSON.stringify(this.wheelnav.linePathAttr))),null!==this.wheelnav.lineHoverAttr&&(this.lineHoverAttr=JSON.parse(JSON.stringify(this.wheelnav.lineHoverAttr))),null!==this.wheelnav.lineSelectedAttr&&(this.lineSelectedAttr=JSON.parse(JSON.stringify(this.wheelnav.lineSelectedAttr))),(null===this.animateeffect||a)&&(null!==this.wheelnav.animateeffect?this.animateeffect=this.wheelnav.animateeffect:this.animateeffect="bounce"),(null===this.animatetime||a)&&(null!==this.wheelnav.animatetime?this.animatetime=this.wheelnav.animatetime:this.animatetime=1500),null!==this.title?((null===this.sliceInitPathFunction||a)&&(this.sliceInitPathFunction=this.wheelnav.sliceInitPathFunction),(null===this.sliceClickablePathFunction||a)&&(this.sliceClickablePathFunction=this.wheelnav.sliceClickablePathFunction),(null===this.slicePathFunction||a)&&(this.slicePathFunction=this.wheelnav.slicePathFunction),(null===this.sliceSelectedPathFunction||a)&&(this.sliceSelectedPathFunction=this.wheelnav.sliceSelectedPathFunction),(null===this.sliceHoverPathFunction||a)&&(this.sliceHoverPathFunction=this.wheelnav.sliceHoverPathFunction),(null===this.sliceTransformFunction||a)&&(this.sliceTransformFunction=this.wheelnav.sliceTransformFunction),(null===this.sliceSelectedTransformFunction||a)&&(this.sliceSelectedTransformFunction=this.wheelnav.sliceSelectedTransformFunction),(null===this.sliceHoverTransformFunction||a)&&(this.sliceHoverTransformFunction=this.wheelnav.sliceHoverTransformFunction),(null===this.sliceInitTransformFunction||a)&&(this.sliceInitTransformFunction=this.wheelnav.sliceInitTransformFunction)):(this.sliceInitPathFunction=slicePath().NullInitSlice,this.sliceClickablePathFunction=slicePath().NullSlice,this.slicePathFunction=slicePath().NullSlice,this.sliceSelectedPathFunction=null,this.sliceHoverPathFunction=null,this.sliceTransformFunction=null,this.sliceSelectedTransformFunction=null,this.sliceHoverTransformFunction=null,this.sliceInitTransformFunction=null),(null===this.slicePathCustom||a)&&(this.slicePathCustom=this.wheelnav.slicePathCustom),(null===this.sliceClickablePathCustom||a)&&(this.sliceClickablePathCustom=this.wheelnav.sliceClickablePathCustom),(null===this.sliceSelectedPathCustom||a)&&(this.sliceSelectedPathCustom=this.wheelnav.sliceSelectedPathCustom),(null===this.sliceHoverPathCustom||a)&&(this.sliceHoverPathCustom=this.wheelnav.sliceHoverPathCustom),(null===this.sliceInitPathCustom||a)&&(this.sliceInitPathCustom=this.wheelnav.sliceInitPathCustom),(null===this.sliceTransformCustom||a)&&(this.sliceTransformCustom=this.wheelnav.sliceTransformCustom),(null===this.sliceSelectedTransformCustom||a)&&(this.sliceSelectedTransformCustom=this.wheelnav.sliceSelectedTransformCustom),(null===this.sliceHoverTransformCustom||a)&&(this.sliceHoverTransformCustom=this.wheelnav.sliceHoverTransformCustom),(null===this.sliceInitTransformCustom||a)&&(this.sliceInitTransformCustom=this.wheelnav.sliceInitTransformCustom),(null===this.initPercent||a)&&(this.initPercent=this.wheelnav.initPercent),(null===this.minPercent||a)&&(this.minPercent=this.wheelnav.minPercent),(null===this.maxPercent||a)&&(this.maxPercent=this.wheelnav.maxPercent),(null===this.hoverPercent||a)&&(this.hoverPercent=this.wheelnav.hoverPercent),(null===this.selectedPercent||a)&&(this.selectedPercent=this.wheelnav.selectedPercent),(null===this.clickablePercentMin||a)&&(this.clickablePercentMin=this.wheelnav.clickablePercentMin),(null===this.clickablePercentMax||a)&&(this.clickablePercentMax=this.wheelnav.clickablePercentMax),(null===this.titleSpreadScale||a)&&(null!==this.wheelnav.titleSpreadScale?this.titleSpreadScale=this.wheelnav.titleSpreadScale:this.titleSpreadScale=!1),(null===this.sliceAngle||a)&&null!==this.wheelnav.sliceAngle&&(this.sliceAngle=this.wheelnav.sliceAngle)},wheelnavItem.prototype.initPathsAndTransforms=function(){this.sliceHelper=new pathHelper,this.sliceHelper.centerX=this.wheelnav.centerX,this.sliceHelper.centerY=this.wheelnav.centerY,this.sliceHelper.wheelRadius=this.wheelnav.wheelRadius,this.sliceHelper.startAngle=this.baseAngle,this.sliceHelper.sliceAngle=this.sliceAngle,this.sliceHelper.itemIndex=this.itemIndex,this.slicePathMin=this.slicePathFunction(this.sliceHelper,this.minPercent,this.slicePathCustom),this.slicePathMax=this.slicePathFunction(this.sliceHelper,this.maxPercent,this.slicePathCustom),null!==this.sliceSelectedPathFunction?this.selectedSlicePathMin=this.sliceSelectedPathFunction(this.sliceHelper,this.selectedPercent*this.minPercent,this.sliceSelectedPathCustom):this.selectedSlicePathMin=this.slicePathFunction(this.sliceHelper,this.selectedPercent*this.minPercent,this.sliceSelectedPathCustom),null!==this.sliceSelectedPathFunction?this.selectedSlicePathMax=this.sliceSelectedPathFunction(this.sliceHelper,this.selectedPercent*this.maxPercent,this.sliceSelectedPathCustom):this.selectedSlicePathMax=this.slicePathFunction(this.sliceHelper,this.selectedPercent*this.maxPercent,this.sliceSelectedPathCustom),null!==this.sliceHoverPathFunction?this.hoverSlicePathMin=this.sliceHoverPathFunction(this.sliceHelper,this.hoverPercent*this.minPercent,this.sliceHoverPathCustom):this.hoverSlicePathMin=this.slicePathFunction(this.sliceHelper,this.hoverPercent*this.minPercent,this.sliceHoverPathCustom),null!==this.sliceHoverPathFunction?this.hoverSlicePathMax=this.sliceHoverPathFunction(this.sliceHelper,this.hoverPercent*this.maxPercent,this.sliceHoverPathCustom):this.hoverSlicePathMax=this.slicePathFunction(this.sliceHelper,this.hoverPercent*this.maxPercent,this.sliceHoverPathCustom),null!==this.sliceClickablePathFunction&&(this.clickableSlicePathMin=this.sliceClickablePathFunction(this.sliceHelper,this.clickablePercentMin,this.sliceClickablePathCustom),this.clickableSlicePathMax=this.sliceClickablePathFunction(this.sliceHelper,this.clickablePercentMax,this.sliceClickablePathCustom)),null!==this.sliceInitPathFunction?this.sliceInitPath=this.sliceInitPathFunction(this.sliceHelper,this.initPercent,this.sliceInitPathCustom):this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.sliceInitPath=this.slicePathFunction(this.sliceHelper,this.maxPercent,this.sliceInitPathCustom):this.sliceInitPath=this.slicePathFunction(this.sliceHelper,this.minPercent,this.sliceInitPathCustom),null!==this.sliceTransformFunction?this.sliceTransform=this.sliceTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.wheelnav.titleRotateAngle,this.itemIndex,this.sliceTransformCustom):this.sliceTransform=sliceTransform().NullTransform,null!==this.sliceSelectedTransformFunction?this.selectTransform=this.sliceSelectedTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.wheelnav.titleRotateAngle,this.itemIndex,this.sliceSelectedTransformCustom):this.selectTransform=sliceTransform().NullTransform,null!==this.sliceHoverTransformFunction?this.hoverTransform=this.sliceHoverTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.wheelnav.titleRotateAngle,this.itemIndex,this.sliceHoverTransformCustom):this.hoverTransform=sliceTransform().NullTransform,null!==this.sliceInitTransformFunction?this.initTransform=this.sliceInitTransformFunction(this.wheelnav.centerX,this.wheelnav.centerY,this.wheelnav.wheelRadius,this.baseAngle,this.sliceAngle,this.wheelnav.titleRotateAngle,this.itemIndex,this.sliceInitTransformCustom):this.initTransform=sliceTransform().NullTransform,wheelnavTitle().isPathTitle(this.title)?(initNavTitle=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),basicNavTitleMin=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),basicNavTitleMax=new wheelnavTitle(this.title,this.wheelnav.raphael.raphael),hoverNavTitleMin=new wheelnavTitle(this.titleHover,this.wheelnav.raphael.raphael),hoverNavTitleMax=new wheelnavTitle(this.titleHover,this.wheelnav.raphael.raphael),selectedNavTitleMin=new wheelnavTitle(this.titleSelected,this.wheelnav.raphael.raphael),selectedNavTitleMax=new wheelnavTitle(this.titleSelected,this.wheelnav.raphael.raphael),this.navTitleSizeTransform=basicNavTitleMax.getTitleSizeTransform(this.titleWidth,this.titleHeight),this.navTitleSizeHoverTransform=hoverNavTitleMax.getTitleSizeTransform(this.titleHoverWidth,this.titleHoverHeight),this.navTitleSizeSelectedTransform=selectedNavTitleMax.getTitleSizeTransform(this.titleSelectedWidth,this.titleSelectedHeight)):(initNavTitle=new wheelnavTitle(this.title),basicNavTitleMin=new wheelnavTitle(this.title),basicNavTitleMax=new wheelnavTitle(this.title),hoverNavTitleMin=new wheelnavTitle(this.titleHover),hoverNavTitleMax=new wheelnavTitle(this.titleHover),selectedNavTitleMin=new wheelnavTitle(this.titleSelected),selectedNavTitleMax=new wheelnavTitle(this.titleSelected)),this.initNavTitle=initNavTitle.getTitlePercentAttr(this.sliceInitPath.titlePosX,this.sliceInitPath.titlePosY,this.titleWidth,this.titleHeight),this.basicNavTitleMin=basicNavTitleMin.getTitlePercentAttr(this.slicePathMin.titlePosX,this.slicePathMin.titlePosY,this.titleWidth,this.titleHeight),this.basicNavTitleMax=basicNavTitleMax.getTitlePercentAttr(this.slicePathMax.titlePosX,this.slicePathMax.titlePosY,this.titleWidth,this.titleHeight),this.hoverNavTitleMin=hoverNavTitleMin.getTitlePercentAttr(this.hoverSlicePathMin.titlePosX,this.hoverSlicePathMin.titlePosY,this.titleHoverWidth,this.titleHoverHeight),this.hoverNavTitleMax=hoverNavTitleMax.getTitlePercentAttr(this.hoverSlicePathMax.titlePosX,this.hoverSlicePathMax.titlePosY,this.titleHoverWidth,this.titleHoverHeight),this.selectedNavTitleMin=selectedNavTitleMin.getTitlePercentAttr(this.selectedSlicePathMin.titlePosX,this.selectedSlicePathMin.titlePosY,this.titleSelectedWidth,this.titleSelectedHeight),this.selectedNavTitleMax=selectedNavTitleMax.getTitlePercentAttr(this.selectedSlicePathMax.titlePosX,this.selectedSlicePathMax.titlePosY,this.titleSelectedWidth,this.titleSelectedHeight)},wheelnavItem.prototype.getCurrentPath=function(){return this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.selected?this.selectedSlicePathMax:this.hovered?this.hoverSlicePathMax:this.slicePathMax:this.selected?this.selectedSlicePathMin:this.hovered?this.hoverSlicePathMin:this.slicePathMin},wheelnavItem.prototype.getCurrentClickablePath=function(){return this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.clickableSlicePathMax:this.clickableSlicePathMin},wheelnavItem.prototype.getCurrentTitle=function(){return this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.selected?this.selectedNavTitleMax:this.hovered?this.hoverNavTitleMax:this.basicNavTitleMax:this.selected?this.selectedNavTitleMin:this.hovered?this.hoverNavTitleMin:this.basicNavTitleMin},wheelnavItem.prototype.getItemRotateString=function(){return"r,"+this.currentRotateAngle.toString()+","+this.wheelnav.centerX+","+this.wheelnav.centerY},wheelnavItem.prototype.getTitleRotateString=function(a){var b="";return b+=this.getItemRotateString(),null!==this.wheelnav.titleRotateAngle&&a?b+=",r,"+(this.navAngle+this.wheelnav.titleRotateAngle).toString():b+=",r,"+(-this.currentRotateAngle).toString(),b},wheelnavTitle=function(a,b){if(this.title=a,null!==a){if(void 0!==b){this.relativePath=b.pathToRelative(a);var c=b.pathBBox(this.relativePath);this.centerX=c.cx,this.centerY=c.cy,this.width=c.width,this.height=c.height,this.startX=this.relativePath[0][1],this.startY=this.relativePath[0][2]}this.title=a}else this.title="";return this.isPathTitle=function(a){return!(null===a||"m"!==a.substr(0,1)&&"M"!==a.substr(0,1)||"z"!==a.substr(a.length-1,1)&&"Z"!==a.substr(a.length-1,1))&&(a.indexOf(",")>-1||a.indexOf(" ")>-1)},this.isImageTitle=function(a){return void 0===a&&(a=this.title),null!==a&&"imgsrc:"===a.substr(0,7)},this},wheelnavTitle.prototype.getTitlePercentAttr=function(a,b,c,d){var e={};if(void 0!==this.relativePath){var f=a+(this.startX-this.centerX),g=b+(this.startY-this.centerY);this.relativePath[0][1]=f,this.relativePath[0][2]=g,e={path:this.relativePath,title:this.title}}else e=this.isImageTitle()?{x:a-c/2,y:b-d/2,width:c,height:d,title:this.title,src:this.title.substr(7,this.title.length)}:{x:a,y:b,title:this.title};return e},wheelnavTitle.prototype.getTitleSizeTransform=function(a,b){var c="";return null!==a&&null!==b&&(c="s",this.height>this.width?(c+=(a/this.height).toString()+",",c+=(b/this.height).toString()):(c+=(a/this.width).toString()+",",c+=(b/this.width).toString())),c},wheelnav.prototype.styleWheel=function(){this.cssMode?(this.spreaderPathInAttr={class:this.getSpreaderCssClass("in")},this.spreaderPathOutAttr={class:this.getSpreaderCssClass("out")},this.spreaderTitleInAttr={class:this.getSpreaderTitleCssClass("in")},this.spreaderTitleOutAttr={class:this.getSpreaderTitleCssClass("out")},this.markerAttr={class:this.getMarkerCssClass()}):(void 0!==this.spreaderPathInAttr&&null!==this.spreaderPathInAttr||(this.spreaderPathInAttr={fill:"#444",stroke:"#444","stroke-width":2,cursor:"pointer"}),void 0!==this.spreaderPathOutAttr&&null!==this.spreaderPathOutAttr||(this.spreaderPathOutAttr={fill:"#444",stroke:"#444","stroke-width":2,cursor:"pointer"}),void 0!==this.spreaderTitleInAttr&&null!==this.spreaderTitleInAttr||(this.spreaderTitleInAttr={fill:"#eee",stroke:"#444",cursor:"pointer"}),void 0!==this.spreaderTitleOutAttr&&null!==this.spreaderTitleOutAttr||(this.spreaderTitleOutAttr={fill:"#eee",stroke:"#444",cursor:"pointer"}),void 0!==this.markerAttr&&null!==this.markerAttr||(this.markerAttr={stroke:"#444","stroke-width":2}))},wheelnavItem.prototype.styleNavItem=function(){this.wheelnav.cssMode?(this.slicePathAttr={class:this.wheelnav.getSliceCssClass(this.wheelItemIndex,"basic")},this.sliceHoverAttr={class:this.wheelnav.getSliceCssClass(this.wheelItemIndex,"hover")},this.sliceSelectedAttr={class:this.wheelnav.getSliceCssClass(this.wheelItemIndex,"selected")},this.titleAttr={class:this.wheelnav.getTitleCssClass(this.wheelItemIndex,"basic")},this.titleHoverAttr={class:this.wheelnav.getTitleCssClass(this.wheelItemIndex,"hover")},this.titleSelectedAttr={class:this.wheelnav.getTitleCssClass(this.wheelItemIndex,"selected")},this.linePathAttr={class:this.wheelnav.getLineCssClass(this.wheelItemIndex,"basic")},this.lineHoverAttr={class:this.wheelnav.getLineCssClass(this.wheelItemIndex,"hover")},this.lineSelectedAttr={class:this.wheelnav.getLineCssClass(this.wheelItemIndex,"selected")}):(this.slicePathAttr={stroke:"#333","stroke-width":0,cursor:"pointer","fill-opacity":1},this.sliceHoverAttr={stroke:"#222","stroke-width":0,cursor:"pointer","fill-opacity":.77},this.sliceSelectedAttr={stroke:"#111","stroke-width":0,cursor:"default","fill-opacity":1},this.titleAttr={font:this.titleFont,fill:"#333",stroke:"none",cursor:"pointer"},this.titleHoverAttr={font:this.titleFont,fill:"#222",cursor:"pointer",stroke:"none"},this.titleSelectedAttr={font:this.titleFont,fill:"#fff",cursor:"default"},this.linePathAttr={stroke:"#444","stroke-width":1,cursor:"pointer"},this.lineHoverAttr={stroke:"#222","stroke-width":2,cursor:"pointer"},this.lineSelectedAttr={stroke:"#444","stroke-width":1,cursor:"default"}),this.sliceClickablePathAttr={fill:"#FFF",stroke:"#FFF","stroke-width":0,cursor:"pointer","fill-opacity":.01},this.sliceClickableHoverAttr={stroke:"#FFF","stroke-width":0,cursor:"pointer"},this.sliceClickableSelectedAttr={stroke:"#FFF","stroke-width":0,cursor:"default"}},wheelnav.prototype.getSliceCssClass=function(a,b){return"wheelnav-"+this.holderId+"-slice-"+b+"-"+a},wheelnav.prototype.getTitleCssClass=function(a,b){return"wheelnav-"+this.holderId+"-title-"+b+"-"+a},wheelnav.prototype.getLineCssClass=function(a,b){return"wheelnav-"+this.holderId+"-line-"+b+"-"+a},wheelnav.prototype.getSpreaderCssClass=function(a){return"wheelnav-"+this.holderId+"-spreader-"+a},wheelnav.prototype.getSpreaderTitleCssClass=function(a){return"wheelnav-"+this.holderId+"-spreadertitle-"+a},wheelnav.prototype.getMarkerCssClass=function(){return"wheelnav-"+this.holderId+"-marker"};var pathHelper=function(){return this.sliceRadius=0,this.startAngle=0,this.middleAngle=0,this.endAngle=0,this.sliceAngle=0,this.startTheta=0,this.middleTheta=0,this.endTheta=0,this.titlePosX=0,this.titlePosY=0,this.titleRadius=0,this.titleTheta=0,this.custom=null,this.centerX=0,this.centerY=0,this.wheelRadius=0,this.itemIndex=0,this.navItemCount=0,this.navAngle=0,this.setBaseValue=function(a,b){null===b?b=new slicePathCustomization:this.custom=b,this.sliceRadius=this.wheelRadius*a*.9,this.middleAngle=this.startAngle+this.sliceAngle/2,this.endAngle=this.startAngle+this.sliceAngle,this.startTheta=this.getTheta(this.startAngle),this.middleTheta=this.getTheta(this.middleAngle),this.endTheta=this.getTheta(this.endAngle),null!==b?(null!==b.titleRadiusPercent&&(this.titleRadius=this.sliceRadius*b.titleRadiusPercent),null!==b.titleSliceAnglePercent&&(this.titleTheta=this.getTheta(this.startAngle+this.sliceAngle*b.titleSliceAnglePercent))):(this.titleRadius=.5*this.sliceRadius,this.titleTheta=this.middleTheta),this.setTitlePos()},this.setTitlePos=function(){this.titlePosX=this.titleRadius*Math.cos(this.titleTheta)+this.centerX,this.titlePosY=this.titleRadius*Math.sin(this.titleTheta)+this.centerY},this.getX=function(a,b){return b*Math.cos(this.getTheta(a))+this.centerX},this.getY=function(a,b){return b*Math.sin(this.getTheta(a))+this.centerY},this.MoveTo=function(a,b){return["M",this.getX(a,b),this.getY(a,b)]},this.MoveToCenter=function(){return["M",this.centerX,this.centerY]},this.LineTo=function(a,b,c,d){return void 0===c&&(c=a),void 0===d&&(d=b),["L",this.getX(a,b),this.getY(c,d)]},this.ArcTo=function(a,b,c){return["A",a,a,0,0,1,this.getX(b,c),this.getY(b,c)]},this.ArcBackTo=function(a,b,c){return["A",a,a,0,0,0,this.getX(b,c),this.getY(b,c)]},this.StartSpreader=function(a,b,c){this.endAngle-this.startAngle==360?a.push(this.MoveTo(b,c)):(a.push(this.MoveToCenter()),a.push(this.LineTo(b,c)))},this.Fermer=function(){return["z"]},this.getTheta=function(a){return a%360*Math.PI/180},this},slicePathCustomization=function(){return this.titleRadiusPercent=.5,this.titleSliceAnglePercent=.5,this},spreaderPathCustomization=function(){return this.titleRadiusPercent=0,this.titleSliceAnglePercent=.5,this.spreaderPercent=1,this},markerPathCustomization=function(){return this.titleRadiusPercent=1,this.titleSliceAnglePercent=.5,this.markerPercent=1.05,this};slicePath=function(){return this.NullSlice=function(a,b,c){return a.setBaseValue(b,c),{slicePathString:"",linePathString:"",titlePosX:a.titlePosX,titlePosY:a.titlePosY}},this.NullInitSlice=function(a,b,c){return a.setBaseValue(b,c),slicePathString=[a.MoveToCenter(),a.Fermer()],{slicePathString:slicePathString,linePathString:slicePathString,titlePosX:a.centerX,titlePosY:a.centerY}},this};var sliceTransform=function(){this.startAngle=0,this.startTheta=0,this.middleTheta=0,this.endTheta=0;var a=function(a,c,d,e,f,g,h,i){this.startAngle=e,this.startTheta=b(startAngle),this.middleTheta=b(startAngle+f/2),this.endTheta=b(startAngle+f)},b=function(a){return a%360*Math.PI/180};return this.NullTransform=function(a,b,c,d,e,f,g,h){return{sliceTransformString:"",lineTransformString:"",titleTransformString:""}},this.MoveMiddleTransform=function(c,d,e,f,g,h,i,j){a(c,d,e,f,g,h,i);var l,k="t"+(e/10*Math.cos(middleTheta)).toString()+","+(e/10*Math.sin(middleTheta)).toString();if(null!==h)l=b(-h);else{l=b(f-i*g+g/2)}return{sliceTransformString:k,lineTransformString:k,titleTransformString:"s1,r0,t"+(e/10*Math.cos(l)).toString()+","+(e/10*Math.sin(l)).toString()}},this.RotateTransform=function(a,b,c,d,e,f,g,h){var i="s1,r360";return{sliceTransformString:i,lineTransformString:i,titleTransformString:i}},this.RotateHalfTransform=function(a,b,c,d,e,f,g,h){var i="s1,r90";return{sliceTransformString:i,lineTransformString:i,titleTransformString:i}},this.RotateTitleTransform=function(a,b,c,d,e,f,g,h){return{sliceTransformString:"",lineTransformString:"",titleTransformString:"s1,r360"}},this.ScaleTransform=function(a,b,c,d,e,f,g,h){var i="s1.2";return{sliceTransformString:i,lineTransformString:"",titleTransformString:i}},this.ScaleTitleTransform=function(a,b,c,d,e,f,g,h){return{sliceTransformString:"",lineTransformString:"",titleTransformString:"s1.3"}},this.RotateScaleTransform=function(a,b,c,d,e,f,g,h){var i="r360,s1.3";return{sliceTransformString:i,lineTransformString:"",titleTransformString:i}},this.CustomTransform=function(a,b,c,d,e,f,g,h){var i=h.scaleString+","+h.rotateString;return{sliceTransformString:i,lineTransformString:i,titleTransformString:i}},this.CustomTitleTransform=function(a,b,c,d,e,f,g,h){return{sliceTransformString:"",lineTransformString:"",titleTransformString:h.scaleString+","+h.rotateString}},this},sliceTransformCustomization=function(){return this.scaleString="s1",this.rotateString="r0",this};spreader=function(a){if(this.wheelnav=a,this.wheelnav.spreaderEnable){this.spreaderHelper=new pathHelper,this.spreaderHelper.centerX=this.wheelnav.centerX,this.spreaderHelper.centerY=this.wheelnav.centerY,this.spreaderHelper.navItemCount=this.wheelnav.navItemCount,this.spreaderHelper.navAngle=this.wheelnav.navAngle,this.spreaderHelper.wheelRadius=this.wheelnav.spreaderRadius,this.spreaderHelper.startAngle=this.wheelnav.spreaderStartAngle,this.spreaderHelper.sliceAngle=this.wheelnav.spreaderSliceAngle;var b=this.wheelnav;this.animateeffect="bounce",this.animatetime=1500,null!==this.wheelnav.animateeffect&&(this.animateeffect=this.wheelnav.animateeffect),null!==this.wheelnav.animatetime&&(this.animatetime=this.wheelnav.animatetime),null!==this.wheelnav.spreaderTitleFont?this.fontAttr={font:this.wheelnav.spreaderTitleFont}:this.fontAttr={font:"100 32px Impact, Charcoal, sans-serif"},this.spreaderPathIn=this.wheelnav.spreaderPathFunction(this.spreaderHelper,this.wheelnav.spreaderInPercent,this.wheelnav.spreaderPathCustom),this.spreaderPathOut=this.wheelnav.spreaderPathFunction(this.spreaderHelper,this.wheelnav.spreaderOutPercent,this.wheelnav.spreaderPathCustom);var c=this.spreaderPathOut;b.initPercent<b.maxPercent&&(c=this.spreaderPathIn),this.spreaderPath=this.wheelnav.raphael.path(c.spreaderPathString),this.spreaderPath.attr(b.spreaderPathAttr),this.spreaderPath.id=b.getSpreaderId(),this.spreaderPath.node.id=this.spreaderPath.id,this.spreaderPath.click(function(){b.spreadWheel()}),this.inTitleWidth=this.wheelnav.spreaderInTitleWidth,this.inTitleHeight=this.wheelnav.spreaderInTitleHeight,this.outTitleWidth=this.wheelnav.spreaderOutTitleWidth,this.outTitleHeight=this.wheelnav.spreaderOutTitleHeight,null!==this.inTitleWidth&&null===this.inTitleHeight&&(this.inTitleHeight=this.inTitleWidth),null===this.inTitleWidth&&null!==this.inTitleHeight&&(this.inTitleWidth=this.inTitleHeight),null!==this.outTitleWidth&&null===this.outTitleHeight&&(this.outTitleHeight=this.outTitleWidth),null===this.outTitleWidth&&null!==this.outTitleHeight&&(this.outTitleWidth=this.outTitleHeight),wheelnavTitle().isImageTitle(this.wheelnav.spreaderOutTitle)&&(null===this.inTitleWidth&&(this.inTitleWidth=32),null===this.inTitleHeight&&(this.inTitleHeight=32),null===this.outTitleWidth&&(this.outTitleWidth=32),null===this.outTitleHeight&&(this.outTitleHeight=32)),wheelnavTitle().isPathTitle(this.wheelnav.spreaderInTitle)?inTitle=new wheelnavTitle(this.wheelnav.spreaderInTitle,this.wheelnav.raphael.raphael):inTitle=new wheelnavTitle(this.wheelnav.spreaderInTitle),this.inTitleSizeTransform=inTitle.getTitleSizeTransform(this.inTitleWidth,this.inTitleHeight),this.inTitle=inTitle.getTitlePercentAttr(this.spreaderPathIn.titlePosX,this.spreaderPathIn.titlePosY,this.inTitleWidth,this.inTitleHeight),wheelnavTitle().isPathTitle(this.wheelnav.spreaderOutTitle)?outTitle=new wheelnavTitle(this.wheelnav.spreaderOutTitle,this.wheelnav.raphael.raphael):outTitle=new wheelnavTitle(this.wheelnav.spreaderOutTitle),this.outTitleSizeTransform=outTitle.getTitleSizeTransform(this.outTitleWidth,this.outTitleHeight),this.outTitle=outTitle.getTitlePercentAttr(this.spreaderPathOut.titlePosX,this.spreaderPathOut.titlePosY,this.outTitleWidth,this.outTitleHeight);var d=this.outTitle,e=this.wheelnav.spreaderTitleOutAttr,f=this.outTitleWidth,g=this.outTitleHeight,h=this.outTitleSizeTransform;b.initPercent<b.maxPercent&&(d=this.inTitle,e=this.wheelnav.spreaderTitleInAttr,f=this.inTitleWidth,g=this.inTitleHeight,h=this.inTitleSizeTransform),wheelnavTitle().isPathTitle(this.wheelnav.spreaderOutTitle)?this.spreaderTitle=b.raphael.path(d.path):wheelnavTitle().isImageTitle(this.wheelnav.spreaderOutTitle)?this.spreaderTitle=this.wheelnav.raphael.image(d.src,c.titlePosX-f/2,c.titlePosY-g/2,f,g):this.spreaderTitle=b.raphael.text(c.titlePosX,c.titlePosY,d.title),this.spreaderTitle.attr(this.fontAttr),this.spreaderTitle.attr(e),this.spreaderTitle.attr({transform:h}),this.spreaderTitle.id=b.getSpreaderTitleId(),this.spreaderTitle.node.id=this.spreaderTitle.id,this.spreaderTitle.click(function(){}),this.setCurrentTransform()}return this},spreader.prototype.setCurrentTransform=function(a){if(this.wheelnav.spreaderEnable){if(void 0===a||!1===a){this.wheelnav.currentPercent>this.wheelnav.minPercent?currentPath=this.spreaderPathOut.spreaderPathString:currentPath=this.spreaderPathIn.spreaderPathString,spreaderTransformAttr={path:currentPath},this.spreaderPath.animate(spreaderTransformAttr,this.animatetime,this.animateeffect);var b,c,d;this.wheelnav.currentPercent===this.wheelnav.maxPercent?(b=this.outTitle,c=this.wheelnav.spreaderTitleOutAttr,this.spreaderPath.attr(this.wheelnav.spreaderPathOutAttr),d=this.outTitleSizeTransform):(b=this.inTitle,c=this.wheelnav.spreaderTitleInAttr,this.spreaderPath.attr(this.wheelnav.spreaderPathInAttr),d=this.inTitleSizeTransform),wheelnavTitle().isPathTitle(b.title)?(c.path=b.path,c.transform=d):wheelnavTitle().isImageTitle(b.title)?(c.x=b.x,c.y=b.y,c.width=b.width,c.height=b.height,this.spreaderTitle.attr({src:b.src})):(offYOffset=0,"-"===b.title&&(offYOffset=3),c.x=b.x,c.y=b.y-offYOffset,null!==b.title&&this.spreaderTitle.attr({text:b.title})),this.spreaderTitle.animate(c,this.animatetime,this.animateeffect)}this.spreaderPath.toFront(),this.spreaderTitle.toFront()}},spreaderPath=function(){return this.NullSpreader=function(a,b){return null===b&&(b=new spreaderPathCustomization),a.setBaseValue(b.spreaderPercent,b),{spreaderPathString:"",titlePosX:a.titlePosX,titlePosY:a.titlePosY}},this.PieSpreaderCustomization=function(){var a=new spreaderPathCustomization;return a.spreaderRadius=25,a.arcBaseRadiusPercent=1,a.arcRadiusPercent=1,a.startRadiusPercent=0,a},this.PieSpreader=function(a,b,c){null===c&&(c=PieSpreaderCustomization()),a.setBaseValue(c.spreaderPercent*b,c);var d=a.sliceRadius*c.arcBaseRadiusPercent,e=a.sliceRadius*c.arcRadiusPercent;return spreaderPathString=[],a.StartSpreader(spreaderPathString,a.startAngle,d),spreaderPathString.push(a.ArcTo(e,a.middleAngle,d)),spreaderPathString.push(a.ArcTo(e,a.endAngle,d)),spreaderPathString.push(a.Fermer()),{spreaderPathString:spreaderPathString,titlePosX:a.titlePosX,titlePosY:a.titlePosY}},this.StarSpreaderCustomization=function(){var a=new spreaderPathCustomization;return a.minRadiusPercent=.5,a},this.StarSpreader=function(a,b,c){null===c&&(c=StarSpreaderCustomization()),a.setBaseValue(c.spreaderPercent*b,c),rbase=a.wheelRadius*c.spreaderPercent*c.minRadiusPercent*b,r=a.sliceRadius,spreaderPathString=[],sliceAngle=a.sliceAngle/a.navItemCount,baseAngle=a.navAngle,a.endAngle-a.startAngle<360&&(baseAngle=a.startAngle),a.StartSpreader(spreaderPathString,baseAngle,r);for(var d=0;d<a.navItemCount;d++)startAngle=d*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,a.endAngle-a.startAngle<360&&d===a.navItemCount-1&&(endAngle=middleAngle),spreaderPathString.push(a.LineTo(startAngle,rbase)),spreaderPathString.push(a.LineTo(middleAngle,r)),spreaderPathString.push(a.LineTo(endAngle,rbase));return spreaderPathString.push(a.Fermer()),{spreaderPathString:spreaderPathString,titlePosX:a.titlePosX,titlePosY:a.titlePosY}},this.AntiStarSpreaderCustomization=function(){var a=new spreaderPathCustomization;return a.minRadiusPercent=.21,a},this.AntiStarSpreader=function(a,b,c){null===c&&(c=AntiStarSpreaderCustomization()),a.setBaseValue(c.spreaderPercent*b,c),rbase=a.wheelRadius*c.spreaderPercent*c.minRadiusPercent*b,r=a.sliceRadius,spreaderPathString=[],sliceAngle=a.sliceAngle/a.navItemCount,baseAngle=a.navAngle,a.endAngle-a.startAngle<360?(baseAngle=a.startAngle,a.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(a.MoveTo(a.startAngle+(a.navAngle+sliceAngle/2),rbase));for(var d=0;d<a.navItemCount;d++)startAngle=d*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,a.endAngle-a.startAngle<360&&d===a.navItemCount-1&&(endAngle=middleAngle),spreaderPathString.push(a.LineTo(startAngle,r)),spreaderPathString.push(a.LineTo(middleAngle,rbase)),spreaderPathString.push(a.LineTo(endAngle,r));return spreaderPathString.push(a.Fermer()),{spreaderPathString:spreaderPathString,titlePosX:a.titlePosX,titlePosY:a.titlePosY}},this.FlowerSpreaderCustomization=function(){var a=new spreaderPathCustomization;return a.minRadiusPercent=.63,a.menuRadius=7,a},this.FlowerSpreader=function(a,b,c){null===c&&(c=FlowerSpreaderCustomization()),a.setBaseValue(c.spreaderPercent*b,c),rbase=a.wheelRadius*c.spreaderPercent*c.minRadiusPercent*b,r=a.sliceRadius,spreaderPathString=[],sliceAngle=a.sliceAngle/a.navItemCount,baseAngle=a.navAngle,a.endAngle-a.startAngle<360?(baseAngle=a.startAngle,a.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(a.MoveTo(a.startAngle+(a.navAngle+sliceAngle/2),rbase));for(var d=0;d<a.navItemCount;d++)startAngle=d*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/2,endAngle=startAngle+sliceAngle,a.endAngle-a.startAngle<360?(0===d&&spreaderPathString.push(a.ArcTo(c.menuRadius,startAngle,rbase)),d===a.navItemCount-1&&(endAngle=middleAngle)):spreaderPathString.push(a.LineTo(startAngle,rbase)),spreaderPathString.push(a.ArcTo(c.menuRadius,endAngle,rbase));return spreaderPathString.push(a.Fermer()),{spreaderPathString:spreaderPathString,titlePosX:a.titlePosX,titlePosY:a.titlePosY}},this.HolderSpreaderCustomization=function(){var a=new spreaderPathCustomization;return a.minRadiusPercent=.5,a.menuRadius=37,a},this.HolderSpreader=function(a,b,c){null===c&&(c=HolderSpreaderCustomization()),a.setBaseValue(c.spreaderPercent*b,c),rbase=a.wheelRadius*c.spreaderPercent*c.minRadiusPercent*b,r=a.sliceRadius,spreaderPathString=[],sliceAngle=a.sliceAngle/a.navItemCount,baseAngle=a.navAngle,a.endAngle-a.startAngle<360?(baseAngle=a.startAngle,a.StartSpreader(spreaderPathString,baseAngle,rbase)):spreaderPathString.push(a.MoveTo(a.startAngle+(a.navAngle+sliceAngle/2),rbase));for(var d=0;d<a.navItemCount;d++)startAngle=d*sliceAngle+(baseAngle+sliceAngle/2),middleAngle=startAngle+sliceAngle/4,endAngle=startAngle+sliceAngle,a.endAngle-a.startAngle<360?d===a.navItemCount-1&&(endAngle=middleAngle):spreaderPathString.push(a.LineTo(startAngle,rbase)),spreaderPathString.push(a.LineTo(startAngle,r)),spreaderPathString.push(a.ArcBackTo(c.menuRadius,middleAngle,rbase)),spreaderPathString.push(a.ArcTo(c.menuRadius,endAngle,r));return spreaderPathString.push(a.Fermer()),{spreaderPathString:spreaderPathString,titlePosX:a.titlePosX,titlePosY:a.titlePosY}},this.LineSpreaderCustomization=function(){var a=new spreaderPathCustomization;return a.minRadiusPercent=.5,a},this.LineSpreader=function(a,b,c){null===c&&(c=LineSpreaderCustomization()),a.setBaseValue(c.spreaderPercent*b,c),rbase=a.wheelRadius*c.spreaderPercent*c.minRadiusPercent*b,r=a.sliceRadius,spreaderPathString=[],sliceAngle=a.sliceAngle/a.navItemCount,baseAngle=a.navAngle,a.endAngle-a.startAngle<360&&(baseAngle=a.startAngle),spreaderPathString.push(a.MoveTo(baseAngle+sliceAngle/2,r));for(var d=0;d<a.navItemCount;d++)startAngle=d*sliceAngle+(baseAngle+sliceAngle/2),endAngle=startAngle+sliceAngle,2===a.navItemCount&&(endAngle-=90),spreaderPathString.push(a.LineTo(startAngle,r)),spreaderPathString.push(a.LineTo(endAngle,r));return spreaderPathString.push(a.Fermer()),{spreaderPathString:spreaderPathString,titlePosX:a.titlePosX,titlePosY:a.titlePosY}},this},marker=function(a){return this.wheelnav=a,this.wheelnav.markerEnable&&(this.markerHelper=new pathHelper,this.markerHelper.centerX=this.wheelnav.centerX,this.markerHelper.centerY=this.wheelnav.centerY,this.markerHelper.navItemCount=this.wheelnav.navItemCount,this.markerHelper.navAngle=this.wheelnav.navAngle,this.markerHelper.wheelRadius=this.wheelnav.wheelRadius*this.wheelnav.maxPercent,this.markerHelper.sliceAngle=this.wheelnav.navItems[0].sliceAngle,this.markerHelper.startAngle=this.markerHelper.navAngle-this.markerHelper.sliceAngle/2,this.animateeffect="bounce",this.animatetime=1500,null!==this.wheelnav.animateeffect&&(this.animateeffect=this.wheelnav.animateeffect),null!==this.wheelnav.animatetime&&(this.animatetime=this.wheelnav.animatetime),this.markerPathMin=this.wheelnav.markerPathFunction(this.markerHelper,this.wheelnav.minPercent,this.wheelnav.markerPathCustom),this.markerPathMax=this.wheelnav.markerPathFunction(this.markerHelper,this.wheelnav.maxPercent,this.wheelnav.markerPathCustom),this.marker=this.wheelnav.raphael.path(this.markerPathMax.markerPathString),this.marker.attr(this.wheelnav.markerAttr),this.marker.id=this.wheelnav.getMarkerId(),this.marker.node.id=this.marker.id),this},marker.prototype.setCurrentTransform=function(a){if(this.wheelnav.markerEnable){var b="";if(b=this.wheelnav.currentPercent===this.wheelnav.maxPercent?this.markerPathMax.markerPathString:this.markerPathMin.markerPathString,void 0!==a){var c=a-this.markerHelper.navAngle;markerTransformAttr={transform:"r,"+c.toString()+","+this.wheelnav.centerX+","+this.wheelnav.centerY,path:b}}else markerTransformAttr={path:b};this.marker.animate(markerTransformAttr,this.animatetime,this.animateeffect),this.marker.toFront()}},markerPath=function(){return this.NullMarker=function(a,b){return null===b&&(b=new markerPathCustomization),a.setBaseValue(b),{markerPathString:"",titlePosX:a.titlePosX,titlePosY:a.titlePosY}},this.TriangleMarkerCustomization=function(){var a=new markerPathCustomization;return a.arcBaseRadiusPercent=1.09,a.arcRadiusPercent=1.2,a.startRadiusPercent=0,a},this.TriangleMarker=function(a,b,c){null===c&&(c=TriangleMarkerCustomization()),a.setBaseValue(c.markerPercent*b,c);var d=a.sliceRadius*c.arcBaseRadiusPercent,e=a.sliceRadius*c.arcRadiusPercent,f=a.startAngle+.46*a.sliceAngle,g=a.startAngle+.54*a.sliceAngle;return markerPathString=[a.MoveTo(a.navAngle,d),a.LineTo(f,e),a.LineTo(g,e),a.Fermer()],{markerPathString:markerPathString,titlePosX:a.titlePosX,titlePosY:a.titlePosY}},this.PieLineMarkerCustomization=function(){var a=new markerPathCustomization;return a.arcBaseRadiusPercent=1,a.arcRadiusPercent=1,a.startRadiusPercent=0,a.sliceAngle=null,a},this.PieLineMarker=function(a,b,c){null===c&&(c=PieLineMarkerCustomization()),a.setBaseValue(c.markerPercent*b,c);var d=a.sliceRadius*c.arcBaseRadiusPercent,e=a.sliceRadius*c.arcRadiusPercent;return null!==c.sliceAngle&&(a.startAngle=a.navAngle-c.sliceAngle/2,a.endAngle=a.navAngle+c.sliceAngle/2),markerPathString=[a.MoveTo(a.startAngle,d),a.ArcTo(e,a.endAngle,d),a.ArcBackTo(e,a.startAngle,d),a.Fermer()],{markerPathString:markerPathString,titlePosX:a.titlePosX,titlePosY:a.titlePosY}},this.MenuMarkerCustomization=function(){var a=new markerPathCustomization;return a.menuRadius=40,a.titleRadiusPercent=.63,a.lineBaseRadiusPercent=0,a},this.MenuMarker=function(a,b,c){null===c&&(c=MenuMarkerCustomization()),a.setBaseValue(c.markerPercent*b,c),x=a.centerX,y=a.centerY,a.titleRadius=a.wheelRadius*c.titleRadiusPercent*b,a.setTitlePos();var d=c.menuRadius*b;return b<=.05&&(d=11),middleTheta=a.middleTheta,markerPathString=[["M",a.titlePosX-d*Math.cos(middleTheta),a.titlePosY-d*Math.sin(middleTheta)],["A",d,d,0,0,1,a.titlePosX+d*Math.cos(middleTheta),a.titlePosY+d*Math.sin(middleTheta)],["A",d,d,0,0,1,a.titlePosX-d*Math.cos(middleTheta),a.titlePosY-d*Math.sin(middleTheta)],["z"]],{markerPathString:markerPathString,titlePosX:a.titlePosX,titlePosY:a.titlePosY}},this.LineMarkerCustomization=function(){var a=new markerPathCustomization;return a.arcBaseRadiusPercent=1.05,a.arcRadiusPercent=1.2,a.startRadiusPercent=0,a},this.LineMarker=function(a,b,c){null===c&&(c=LineMarkerCustomization()),a.setBaseValue(c.markerPercent*b,c);var d=a.sliceRadius*c.arcBaseRadiusPercent,e=a.sliceRadius*c.arcRadiusPercent;return markerPathString=[a.MoveTo(a.navAngle,d),a.LineTo(a.navAngle,e),a.Fermer()],{markerPathString:markerPathString,titlePosX:a.titlePosX,titlePosY:a.titlePosY}},this.DropMarkerCustomization=function(){var a=new markerPathCustomization;return a.dropBaseRadiusPercent=0,a.dropRadiusPercent=.15,a},this.DropMarker=function(a,b,c){null===c&&(c=DropMarkerCustomization()),a.setBaseValue(c.markerPercent*b,c);var d=a.sliceRadius*c.dropBaseRadiusPercent,e=a.startAngle+.2*a.sliceAngle,f=a.startAngle,g=a.startAngle+.8*a.sliceAngle,h=a.startAngle+a.sliceAngle,i=a.sliceRadius*c.dropRadiusPercent;return markerPathString=[a.MoveTo(0,i),a.ArcTo(i,180,i),a.ArcTo(i,360,i),a.MoveTo(a.navAngle,d),a.LineTo(e,i),a.LineTo(f,i),a.LineTo(a.navAngle,1.6*i),a.LineTo(h,i),a.LineTo(g,i),a.Fermer()],{markerPathString:markerPathString,titlePosX:a.titlePosX,titlePosY:a.titlePosY}},this};var colorpalette={defaultpalette:new Array("#2D9E46","#F5BE41","#F77604","#D63C22","#006BA6","#92ADAF"),purple:new Array("#4F346B","#623491","#9657D6","#AD74E7","#CBA3F3"),greenred:new Array("#17B92A","#FF3D00","#17B92A","#FF3D00"),greensilver:new Array("#1F700A","#79CC3C","#D4E178","#E6D5C3","#AC875D"),oceanfive:new Array("#00A0B0","#6A4A3C","#CC333F","#EB6841","#EDC951"),garden:new Array("#648A4F","#2B2B29","#DF6126","#FFA337","#F57C85"),gamebookers:new Array("#FF9900","#DCDCDC","#BCBCBC","#3299BB","#727272"),parrot:new Array("#D80351","#F5D908","#00A3EE","#929292","#3F3F3F"),pisycholand:new Array("#FF1919","#FF5E19","#FF9F19","#E4FF19","#29FF19"),makeLOVEnotWAR:new Array("#2C0EF0","#B300FF","#6751F0","#FF006F","#8119FF"),theworldismine:new Array("#F21D1D","#FF2167","#B521FF","#7E2AA8","#000000"),fractalloveone:new Array("#002EFF","#00FFF7","#00FF62","#FFAA00","#FFF700"),fractallovetwo:new Array("#FF9500","#FF0000","#FF00F3","#AA00FF","#002EFF"),fractallove:new Array("#002EFF","#00FFF7","#00FF62","#FFAA00","#F5D908","#FF0000","#FF00F3","#AA00FF"),sprinkles:new Array("#272523","#FFACAC","#FFD700","#00590C","#08006D"),goldenyellow:new Array("#D8B597","#8C4006","#B6690F","#E3C57F","#FFEDBE"),hotaru:new Array("#364C4A","#497C7F","#92C5C0","#858168","#CCBCA5")};